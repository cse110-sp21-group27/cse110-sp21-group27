<!DOCTYPE html>

<head>
	<meta charset="utf-8">
	<title>MVP Team 27</title>
	<link rel="stylesheet" href="style.css">
	<style>
		#box {
		  width: 470px;
		  height: 14px;
		  border: 1px solid #aaaaaa;
		  position: static;
		  left: 33%;
		}

		#box2 {
		  width: 670px;
		  height: 104px;
		  border: 1px solid #aaaaaa;
		  position: static;
		  left: 33%;
		}
	  
		 .element {
		  width: 470px;
		  border: 1px solid #aaaaaa;
		}
	  
		   #element2 {
		  width: 470px;
		  border: 1px solid #aaaaaa;
		}
	  
		</style>
		
		<!--drag and drop function -->
		<script>
	  
	  // Intentions to keep focus items continously draggable to multiple boxes.
	  // Currently focus item is a one time drag and drop action 
	  
	  
		function allowDrop(ev) {
		  ev.preventDefault();
		}
	  
		function drag(ev) {
		  ev.dataTransfer.setData("text", ev.target.id);
		  
		}
	  
		function drop(ev) {
		  ev.preventDefault();
		  var data = ev.dataTransfer.getData("text");
		  
		  if(ev.target.id == "box"){
			  
			  console.log(ev);
			  console.log(ev.target);
			  console.log(data);
			  console.log(document.getElementById(data));
			  
			ev.target.appendChild(document.getElementById(data));
		  
		  }else{
			console.log(ev.target.parentElement)
			ev.target.parentElement.appendChild(document.getElementById(data));
			document.getElementById("box").appendChild(document.getElementById(data));
		  }
		  // this is causing tasks to appear nested visually
		  //change target to be box
		}

		</script>
</head>

<body>
	<table class="dailyFocus">

	
	</table>
	<!--Start of Daily View-->
	<table>
		<!--
		<td colspan="4" rowspan="1" <div id="box2" ondrop="drop(event)" ondragover="allowDrop(event)"></div>
		-->

		<!-- this point is still not on the time grid -->
		
		<h1 id="return">Return</h1>
		<h1 id="weekly">Weekly View</h1>
        </div></td>

		<div id="event_tab">
			<h1 id="focus_h1">Add Event</h1>
			<button id="focus_button">Add New Focus Item <span onclick="add_new_focus()">&oplus;</span></button>
			
			</div>
		</div>

		  <tr>
			<th>    
        08:00
      </th>
      
			<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
      </tr>
		  <tr>
			<th>08:30</th>
      		<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
		  </tr>
		  <tr>
			<th>09:00</th>
      		<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
		  </tr>
		  <tr>
			<th>09:30</th>
      		<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
		  </tr>
		  <tr>
			<th>10:00</th>
      		<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
		  </tr>
		  <tr>
			<th>10:30</th>
      		<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
		  </tr>
		  <tr>
			<th>11:00</th>
      		<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
		  </tr>
		  <tr>
			<th>11:30</th>
      		<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
		  </tr>
		  <tr>
			<th>12:00</th>
      		<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
		  </tr>
		  <tr>
			<th>12:30</th>
      		<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
		  </tr>
		  <tr>
			<th>13:00</th>
      		<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
		  </tr>
		  <tr>
			<th>13:30</th>
      		<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
		  </tr>
		  <tr>
			<th>14:00</th>
      		<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
		  </tr>
		  <tr>
			<th>14:30</th>
      		<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
        </div></td>
		  </tr>
		  <tr>
			<th>15:00</th>
        <td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
		  </tr>
		  <tr>
			<th>15:30</th>
      <td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
		  </tr>
		  <tr>
			<th>16:00</th>
      <td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
		  </tr>
		  <tr>
			<th>16:30</th>
      <td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
		  </tr>
		  <tr>
			<th>17:00</th>
      <td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
		  </tr>
		  <tr>
			<th>17:30</th>
      <td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
		  </tr>
		  <tr>
			<th>18:00</th>
      <td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
		  </tr>
		  <tr>
			<th>18:30</th>
			<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
		  </tr>
		  <tr>
			<th>19:00</th>
			<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
		  </tr>
		  <tr>
			<th>19:30</th>
      <td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
		  </tr>
		  <tr>
			<th>20:00</th>
      <td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
		  </tr>
		  <tr>
			<th>20:30</th>
			<td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
		  </tr>
		  <tr>
			<th>21:00</th>
      <td colspan="4" rowspan="1" <div id="box" ondrop="drop(event)" ondragover="allowDrop(event)">
		  </tr>
		
	  </table>
	
	<script type="text/javascript">
	/*(function() {
	
	var img = document.getElementById('schedule_view_tab').childNodes[0];
	img.onload = function() {
		if(img.height > img.width) {
			img.height = '100%';
			img.width = 'auto';
		}
	};
	
	}());*/
	</script>



	<div id="main_page">
		<div id="schedule_view_tab">
			<h1 id="schedule_h1">Schedule View</h1>
			<button id="daily_button">Daily View</button>
			<button id="weekly_button">Weekly View</button>
		</div>

		<div id="focus_items_tab">
			<h1 id="focus_h1">Focus Items</h1>
			<button id="focus_button" onclick="add_new_focus()">Add New Focus Item</button>
			
			<div id="focus_completed" >
				<div>
					<span class="focus_completed_left">
						<img src="images/checkbox.png"/>
					</span>
					<span class="focus_completed_right">
						Focus Items Completed
					</span>
					<div class="clear"></div>
				</div>
				<h2 id="focus_completed_number">0</h2>
			</div>
			
			<h2 id="focus_h2">Current Focus Items</h2>
			<div id="focus_items_list">
				
				
			</div>
		</div>

		<div id="cards_tab">
			<h1 id="focus_h1">Cards</h1>
			<button id="cards_button" onclick="add_card()">Add a Card</button>
			<div id="cards_list" style="overflow:auto; height:650px;"></div>
		</div>
	</div>

	<div id="focus_modal" class="modal-window">
		<div id="focus_modal_content">
			<div id="focus_header">
				<span id="focus_modal_cancel" onclick="close_modal()">&laquo;</span>
				<span id="focus_modal_header">Create Focus Item</span>
				<div class="clear"></div>
			</div>

			<form id="focus_form" onsubmit="event.preventDefault(); validateMyForm();">

				<div>
					<label>Name</label><br>
					<input id="inp1" class="focus_input" name="name" placeholder="Insert Name Here" required="required">
				</div>

				<div>
					<label>Tags</label><br>
					<select  id="inp2" class="focus_input" name="tag"  required="required">
						<option value="Health">Health</option>
						<option value="Academics">Academics</option>
						<option value="Personal">Personal</option>
						<option value="Urgent">Urgent</option>
						<option value="Financials">Financials</option>
						<option value="Work">Work</option>
						<option value="Family">Family</option>
						<option value="Cleaning">Cleaning</option>
					</select>
				</div>

				<div>
					<label>Duration (minutes)</label><br>
					<input type="number" id="inp3" class="focus_input" name="duration" placeholder="In Minutes" value="0" min="0" oninput="validity.valid||(value='');">
					
				</div>
<!-- fix the date period problem -->
				<div>
					<label for="startCalendar">Start:</label><br>
					<input type="date" class="focus_input" id="startCalendar" placeholder="" name="startCalendar" required><br>

				</div>

				<div>
					<label for="endCalendar">End:</label><br>
					<input type="date" class="focus_input" id="endCalendar" placeholder="" name="endCalendar" required>
				</div>


				<button id="focus_item_create">
					Create
				</button>
			</form>
			

		</div>

	</div>
	<script src="script.js"></script>
	<script>
		window.addEventListener('DOMContentLoaded', () => {
			document.getElementById("focus_modal").style.display = "none";
			focusItemStorage();
			
		});
		

		
	</script>
	
</body>